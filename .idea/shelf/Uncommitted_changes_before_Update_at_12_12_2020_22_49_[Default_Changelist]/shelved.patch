Index: app/src/main/java/com/example/tiptop/CurrentCircleActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.tiptop;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class CurrentCircleActivity extends AppCompatActivity {\r\n\r\n    private TextView family_name;\r\n    private ListView circle_information;\r\n\r\n    private String family_uid;\r\n\r\n    private FirebaseDatabase root;\r\n    private DatabaseReference reference;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_current_circle);\r\n\r\n        initializeClassVariables();\r\n\r\n        setScreenViewByFamily();\r\n\r\n        setCirclesList();\r\n\r\n    }\r\n\r\n    private void initializeClassVariables(){\r\n        family_name = (TextView)findViewById(R.id.familyName);\r\n        circle_information = (ListView)findViewById(R.id.circleInformation);\r\n\r\n        root = FirebaseDatabase.getInstance();\r\n    }\r\n\r\n    private void setScreenViewByFamily(){\r\n        Bundle extras = getIntent().getExtras();\r\n        family_uid = (String) extras.get(\"family_uid\");\r\n        reference = root.getReference(\"Families\").child(family_uid);\r\n        reference.addListenerForSingleValueEvent(new ValueEventListener(){\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                for(DataSnapshot ds : snapshot.getChildren()){\r\n\r\n                    if(ds.getKey().equals(\"Family name\")){\r\n                        family_name.setText(ds.getValue()+\" Circle\");\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void setCirclesList(){\r\n        ArrayAdapter<String> adapter = new ArrayAdapter<String>(CurrentCircleActivity.this,\r\n                android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.CircleInformation));\r\n\r\n        circle_information.setAdapter(adapter);\r\n\r\n        circle_information.setOnItemClickListener((adapterView,view,i,l) -> {\r\n\r\n            if(i==0) {\r\n                Intent go_to_members = new Intent(CurrentCircleActivity.this, MembersActivity.class);\r\n\r\n                go_to_members.putExtra(\"family_uid\", family_uid);\r\n                startActivity(go_to_members);\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/tiptop/CurrentCircleActivity.java	(revision e45fc1c35e3fab5056be5b762d6cf77b84a75e8a)
+++ app/src/main/java/com/example/tiptop/CurrentCircleActivity.java	(date 1607791362387)
@@ -51,17 +51,12 @@
     private void setScreenViewByFamily(){
         Bundle extras = getIntent().getExtras();
         family_uid = (String) extras.get("family_uid");
-        reference = root.getReference("Families").child(family_uid);
+        reference = root.getReference("Families").child(family_uid).child("Family name");
         reference.addListenerForSingleValueEvent(new ValueEventListener(){
             @Override
             public void onDataChange(@NonNull DataSnapshot snapshot) {
 
-                for(DataSnapshot ds : snapshot.getChildren()){
-
-                    if(ds.getKey().equals("Family name")){
-                        family_name.setText(ds.getValue()+" Circle");
-                    }
-                }
+                family_name.setText(snapshot.getValue()+" Circle");
             }
 
             @Override
@@ -86,6 +81,13 @@
                 startActivity(go_to_members);
             }
 
+            else if(i==1){
+                Intent go_to_parent_rights = new Intent(CurrentCircleActivity.this, ParentRightsActivity.class);
+
+                go_to_parent_rights.putExtra("family_uid", family_uid);
+                startActivity(go_to_parent_rights);
+            }
+
         });
     }
 
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.tiptop\">\r\n\r\n    <application\r\n\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.TipTop\">\r\n\r\n        <activity android:name=\".LogoActivity\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity android:name=\".NewTask\"/>\r\n        <activity android:name=\".LoginActivity\"/>\r\n        <activity android:name=\".NewClientActivity\"/>\r\n        <activity android:name=\".NewFamilyIDActivity\"/>\r\n        <activity android:name=\".HomeActivity\"/>\r\n        <activity android:name=\".ChatActivity\"/>\r\n        <activity android:name=\".FollowUpActivity\"/>\r\n        <activity android:name=\".HistoryActivity\"/>\r\n        <activity android:name=\".ImageActivity\"/>\r\n        <activity android:name=\".PointsActivity\"/>\r\n        <activity android:name=\".ProfileActivity\"/>\r\n        <activity android:name=\".SettingActivity\"/>\r\n        <activity android:name=\".StatisticsActivity\"/>\r\n        <activity android:name=\".PoolTasksParentActivity\"/>\r\n        <activity android:name=\".PoolTaskChildActivity\"/>\r\n        <activity android:name=\".TaskInfoActivity\"/>\r\n        <activity android:name=\".ManageCirclesActivity\"/>\r\n        <activity android:name=\".CreateChildAccountActivity\"/>\r\n        <activity android:name=\".CurrentCircleActivity\"/>\r\n        <activity android:name=\".MembersActivity\"/>\r\n        <activity android:name=\".ApproveActivity\"/>\r\n        <activity android:name=\".SettingChildrenActivity\"/>\r\n\r\n\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision e45fc1c35e3fab5056be5b762d6cf77b84a75e8a)
+++ app/src/main/AndroidManifest.xml	(date 1607789441825)
@@ -39,6 +39,7 @@
         <activity android:name=".MembersActivity"/>
         <activity android:name=".ApproveActivity"/>
         <activity android:name=".SettingChildrenActivity"/>
+        <activity android:name=".ParentRightsActivity"/>
 
 
     </application>
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">TipTop</string>\r\n    <string name=\"enter_email\">Enter Email</string>\r\n    <string name=\"enter_password\">Enter Password</string>\r\n    <string name=\"email\">Email</string>\r\n    <string name=\"password\">Password</string>\r\n    <string name=\"confirm_password\">Confirm Password</string>\r\n    <string name=\"next\">Continue</string>\r\n    <string name=\"already_have_an_account\">already have an account?</string>\r\n    <string name=\"don_t_have_an_account\">Don\\'t have an account?</string>\r\n    <string name=\"login\">Login</string>\r\n    <string name=\"register\">Register</string>\r\n    <string name=\"please_enter_details_to_register\">Please enter details to register</string>\r\n    <string name=\"birthday\">Birthday</string>\r\n    <string name=\"enter_family_id\">Enter family ID</string>\r\n    <string name=\"click_here\">Click here</string>\r\n    <string name=\"want_to_create_a_new_family_id\">Want to create a new family ID?</string>\r\n    <string name=\"sign_up\">Sign Up</string>\r\n    <string name=\"take_a_photo\">Take a photo</string>\r\n    <string name=\"attach_a_photo\">Attach a photo</string>\r\n    <string name=\"route_type\">Route type:</string>\r\n    <string name=\"route_information\">Route information</string>\r\n    <string name=\"name\">Name</string>\r\n    <string name=\"family_name\">Family name</string>\r\n    <string name=\"spinnerTitle\">TipTop</string>\r\n    <string name=\"circle_information\">Circle information</string>\r\n    <string name=\"circle_s_you_belong_to\">circle(s) you belong to</string>\r\n    <string name=\"edit_my_profile\">EDIT MY PROFILE</string>\r\n    <string name=\"manage_circles\">manage circles</string>\r\n    <string name=\"name_of_task\">Name of task</string>\r\n    <string name=\"bonus_point\">Bonus point</string>\r\n    <string name=\"start_date\">Start date</string>\r\n    <string name=\"end_date\">End date</string>\r\n    <string name=\"create_a_child_account\">Create a child account</string>\r\n    <string name=\"username\">Username</string>\r\n    <string name=\"enter_email_or_username\">Enter Email or Username</string>\r\n    <string name=\"task_assignment\">Task assignment:</string>\r\n\r\n    <string-array name=\"Route\">\r\n        <item>With bonuses</item>\r\n        <item>Without bonuses</item>\r\n    </string-array>\r\n\r\n    <string-array name=\"CircleInformation\">\r\n        <item>Members</item>\r\n        <item>parent rights</item>\r\n    </string-array>\r\n\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/strings.xml	(revision e45fc1c35e3fab5056be5b762d6cf77b84a75e8a)
+++ app/src/main/res/values/strings.xml	(date 1607793413173)
@@ -35,6 +35,9 @@
     <string name="username">Username</string>
     <string name="enter_email_or_username">Enter Email or Username</string>
     <string name="task_assignment">Task assignment:</string>
+    <string name="parent_members">Parent members</string>
+    <string name="parents_have_full_control_of_the_aplication_and_can_manage_the_members_of_the_circle">Parents have full control of the aplication and can manage the members of the circle</string>
+    <string name="child_members">Child members</string>
 
     <string-array name="Route">
         <item>With bonuses</item>
@@ -43,7 +46,7 @@
 
     <string-array name="CircleInformation">
         <item>Members</item>
-        <item>parent rights</item>
+        <item>Parent Rights</item>
     </string-array>
 
 </resources>
\ No newline at end of file
Index: app/src/main/res/layout/activity_parent_rights.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_parent_rights.xml	(date 1607798373036)
+++ app/src/main/res/layout/activity_parent_rights.xml	(date 1607798373036)
@@ -0,0 +1,72 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/mainLayout"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:orientation="vertical"
+    android:padding="20dp">
+
+    <TextView
+        android:id="@+id/familyName"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="40dp"
+        android:layout_marginBottom="20dp"
+        android:text=""
+        android:textColor="@android:color/black"
+        android:textSize="20dp"/>
+
+    <LinearLayout
+
+        android:id="@+id/parentMembers"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:orientation="vertical"
+        android:padding="20dp">
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginBottom="10dp"
+            android:textSize="16dp"
+            android:textColor="@android:color/black"
+            android:text="@string/parent_members"/>
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginBottom="20dp"
+            android:textColor="@android:color/black"
+            android:text="@string/parents_have_full_control_of_the_aplication_and_can_manage_the_members_of_the_circle"/>
+
+    </LinearLayout>
+
+    <LinearLayout
+
+        android:id="@+id/childMembers"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:orientation="vertical"
+        android:padding="20dp">
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginBottom="10dp"
+            android:textSize="16dp"
+            android:textColor="@android:color/black"
+            android:text="@string/child_members"/>
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginBottom="20dp"
+            android:textColor="@android:color/black"
+            android:text="Children's permissions, i.e. can not add and change tasks.
+They see only their tasks."/>
+
+    </LinearLayout>
+
+
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/tiptop/ParentRightsActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/tiptop/ParentRightsActivity.java	(date 1607806144876)
+++ app/src/main/java/com/example/tiptop/ParentRightsActivity.java	(date 1607806144876)
@@ -0,0 +1,148 @@
+package com.example.tiptop;
+
+import android.os.Bundle;
+import android.text.Layout;
+import android.util.Log;
+import android.view.Gravity;
+import android.widget.CompoundButton;
+import android.widget.LinearLayout;
+import android.widget.Switch;
+import android.widget.TextView;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.appcompat.app.AppCompatActivity;
+
+import com.google.firebase.database.DataSnapshot;
+import com.google.firebase.database.DatabaseError;
+import com.google.firebase.database.DatabaseReference;
+import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.ValueEventListener;
+
+
+public class ParentRightsActivity extends AppCompatActivity {
+
+    private static final String TAG = "ParentRightsActivity";
+
+    private TextView family_name;
+    private LinearLayout parent_layout;
+    private LinearLayout child_layout;
+
+    private String family_uid;
+
+    private FirebaseDatabase root;
+    private DatabaseReference reference;
+
+    @Override
+    protected void onCreate(@Nullable Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+
+        setContentView(R.layout.activity_parent_rights);
+
+        initializeClassVariables();
+
+        setScreenViewByFamily();
+
+    }
+
+    private void initializeClassVariables(){
+        parent_layout = (LinearLayout)findViewById(R.id.parentMembers);
+        child_layout = (LinearLayout)findViewById(R.id.childMembers);
+        family_name = (TextView)findViewById(R.id.familyName);
+
+        root = FirebaseDatabase.getInstance();
+    }
+
+    private void setScreenViewByFamily(){
+        Bundle extras = getIntent().getExtras();
+        family_uid = (String) extras.get("family_uid");
+        reference = root.getReference("Families").child(family_uid).child("Family name");
+        reference.addListenerForSingleValueEvent(new ValueEventListener(){
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+
+                family_name.setText(snapshot.getValue()+" Circle");
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+
+
+        reference = root.getReference("Families").child(family_uid);
+        reference.addListenerForSingleValueEvent(new ValueEventListener(){
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+
+                String key;
+
+                for(DataSnapshot ds : snapshot.getChildren()){
+
+                    key = ds.getKey();
+
+                    if(!key.equals("Family name")){
+
+                        createSwitchForEveryUser(key);
+
+                    }
+
+                }
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+    }
+
+    private void createSwitchForEveryUser(String key){
+        DatabaseReference childReference = root.getReference("Users").child(key);
+        childReference.addListenerForSingleValueEvent(new ValueEventListener(){
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+
+                User user = snapshot.getValue(User.class);
+
+                Switch user_switch=new Switch(ParentRightsActivity.this);
+                user_switch.setGravity(Gravity.LEFT);
+                user_switch.setText(user.getName());
+
+                if(user.getType().equals("Parent")){
+                    user_switch.setChecked(true);
+                    parent_layout.addView(user_switch);
+                }
+                else if(user.getType().equals("Child")){
+                    user_switch.setChecked(false);
+                    child_layout.addView(user_switch);
+                }
+
+                user_switch.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
+                    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
+                        if(user.getType().equals("Child")) {
+                            child_layout.removeView(user_switch);
+                            parent_layout.addView(user_switch);
+                            user.setType("Parent");
+                            childReference.child("type").setValue("Parent");
+                        }
+                        else if(user.getType().equals("Parent")){
+                            parent_layout.removeView(user_switch);
+                            child_layout.addView(user_switch);
+                            user.setType("Child");
+                            childReference.child("type").setValue("Child");
+                        }
+                    }
+                });
+
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+    }
+
+}
