Index: app/src/main/java/com/example/tiptop/FollowUpActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.tiptop;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class FollowUpActivity extends AppCompatActivity {\r\n\r\n    private ListView followList;\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseDatabase root;\r\n    private DatabaseReference reference;\r\n    private String currFamilyId;\r\n    private String uid;\r\n    private String permission;\r\n    private TaskAdapter mTaskAdapter;\r\n    private ArrayList<Task> list;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_followup);\r\n\r\n        initializeClassVariables();\r\n\r\n        createListOfTask();\r\n\r\n        crateClickEvent();\r\n\r\n        updateListFromDB();\r\n    }\r\n\r\n    private void initializeClassVariables() {\r\n        followList = (ListView) findViewById(R.id.followList);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        root = FirebaseDatabase.getInstance();\r\n        reference = root.getReference();\r\n        uid = mAuth.getCurrentUser().getUid();\r\n\r\n        Bundle extras = getIntent().getExtras();\r\n        currFamilyId = extras.getString(\"currFamilyId\");\r\n        permission = extras.getString(\"permission\");\r\n//        Log.v(\"Gettpermissionnn!!!!!!!\", permission);\r\n    }\r\n\r\n    private void createListOfTask() {\r\n        list = new ArrayList<>();\r\n        mTaskAdapter = new TaskAdapter(getApplicationContext(),R.layout.row_task,list);\r\n        followList.setAdapter(mTaskAdapter);\r\n    }\r\n\r\n    private void crateClickEvent() {\r\n        followList.setOnItemClickListener((adapterView,view,i,l) -> {\r\n            Intent intent;\r\n            Log.v(\"Chepermissionnn!!!!!!!\", permission);\r\n            if (permission.equals(\"Parent\")){\r\n                intent = new Intent(view.getContext(), ApproveActivity.class);\r\n            }\r\n\r\n            else if (permission.equals(\"Child\")){\r\n                intent = new Intent(view.getContext(), TaskInfoActivity.class);\r\n            }\r\n            else return;\r\n            Log.v(\"Chepermissionnn!!!!!!!\", permission);\r\n            intent.putExtra(\"task\",list.get(i));\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void updateListFromDB() {\r\n        reference.child(\"Tasks\").child(currFamilyId).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                list.clear();\r\n                for (DataSnapshot Snapshot : snapshot.getChildren()){\r\n                    if (Snapshot.child(\"belongsToUID\").getValue().equals(uid)){\r\n                        Task toAdd = Snapshot.getValue(Task.class);\r\n                        list.add(toAdd);\r\n                        Log.v(\"Add to list\",toAdd.getNameTask());\r\n                    }\r\n                }\r\n                Log.v(\"Data changed\",\"www\");\r\n                mTaskAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/tiptop/FollowUpActivity.java	(revision 4adf77c21ab8ce8ca6466d5bb0ca0ca8bdc1c378)
+++ app/src/main/java/com/example/tiptop/FollowUpActivity.java	(date 1607631622423)
@@ -55,7 +55,6 @@
         Bundle extras = getIntent().getExtras();
         currFamilyId = extras.getString("currFamilyId");
         permission = extras.getString("permission");
-//        Log.v("Gettpermissionnn!!!!!!!", permission);
     }
 
     private void createListOfTask() {
@@ -67,7 +66,6 @@
     private void crateClickEvent() {
         followList.setOnItemClickListener((adapterView,view,i,l) -> {
             Intent intent;
-            Log.v("Chepermissionnn!!!!!!!", permission);
             if (permission.equals("Parent")){
                 intent = new Intent(view.getContext(), ApproveActivity.class);
             }
@@ -76,7 +74,6 @@
                 intent = new Intent(view.getContext(), TaskInfoActivity.class);
             }
             else return;
-            Log.v("Chepermissionnn!!!!!!!", permission);
             intent.putExtra("task",list.get(i));
             startActivity(intent);
         });
Index: app/src/main/java/com/example/tiptop/PoolTasksParentActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.tiptop;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.ListView;\r\nimport android.widget.Spinner;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class PoolTasksParentActivity extends AppCompatActivity {\r\n    private String currFamilyid;\r\n    private List <String> ListUnassignedTasks;\r\n    private List <String> ListKeysUnassignedTasks;\r\n    private DatabaseReference databaseReference;\r\n    private ArrayAdapter adapter;\r\n    private ListView UnassignedTasks;\r\n\r\n    private Button addTaskButton;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_task_parent);\r\n        initializeClassVariables();\r\n        getExtrasFromIntent();\r\n        getAllUnassignedTasksFromDB();\r\n        showlistUnassignedTasks();\r\n\r\n        addTaskButton = (Button)findViewById(R.id.addTaskButton);\r\n        addTaskButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent(v.getContext(),NewTask.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void showlistUnassignedTasks() {\r\n        ArrayAdapter adapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, ListUnassignedTasks);\r\n        UnassignedTasks =(ListView) findViewById(R.id.ListUnassignedTasks);\r\n        UnassignedTasks.setAdapter(adapter);\r\n    }\r\n\r\n    private void initializeClassVariables() {\r\n\r\n    }\r\n\r\n    private void getAllUnassignedTasksFromDB() {\r\n        ListUnassignedTasks = new ArrayList<>();\r\n        ListKeysUnassignedTasks = new ArrayList<>();\r\n        databaseReference = FirebaseDatabase.getInstance().getReference();\r\n\r\n        //Updating the spinner\r\n//        databaseReference.child(\"Tasks\").child(currFamilyid).addValueEventListener(new ValueEventListener() {\r\n//            @Override\r\n//            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n//\r\n//                for (DataSnapshot ds : snapshot.getChildren() )\r\n//                {\r\n//                    if(ds.child(\"status\").toString().equals(\"NotAssociated\"))\r\n//                    {\r\n//                        ListUnassignedTasks.add(ds.child(\"nameTask\").toString());\r\n//                        ListKeysUnassignedTasks.add(ds.getKey());\r\n//                    }\r\n//\r\n//                }\r\n//            }\r\n//\r\n//            @Override\r\n//            public void onCancelled(@NonNull DatabaseError error) {\r\n//\r\n//            }\r\n//        });\r\n\r\n    }\r\n\r\n    private void getExtrasFromIntent() {\r\n        Bundle extras = getIntent().getExtras();\r\n        if(extras!=null)\r\n        {\r\n            String currFamilyidTemp = extras.getString(\"currFamilyId\");\r\n            if(currFamilyidTemp!=null)\r\n            {\r\n                currFamilyid=currFamilyidTemp;\r\n            }\r\n            else\r\n            {\r\n                Toast.makeText(this, \"currFamily didn't pass\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/tiptop/PoolTasksParentActivity.java	(revision 4adf77c21ab8ce8ca6466d5bb0ca0ca8bdc1c378)
+++ app/src/main/java/com/example/tiptop/PoolTasksParentActivity.java	(date 1607631785136)
@@ -2,6 +2,7 @@
 
 import android.content.Intent;
 import android.os.Bundle;
+import android.util.Log;
 import android.view.View;
 import android.widget.ArrayAdapter;
 import android.widget.Button;
@@ -23,12 +24,15 @@
 import java.util.List;
 
 public class PoolTasksParentActivity extends AppCompatActivity {
-    private String currFamilyid;
-    private List <String> ListUnassignedTasks;
-    private List <String> ListKeysUnassignedTasks;
-    private DatabaseReference databaseReference;
-    private ArrayAdapter adapter;
+
     private ListView UnassignedTasks;
+    private FirebaseAuth mAuth;
+    private FirebaseDatabase root;
+    private DatabaseReference reference;
+    private String currFamilyid;
+    private String uid;
+    private ArrayList<Task> ListUnassignedTasks;
+    private TaskAdapter adapter;
 
     private Button addTaskButton;
 
@@ -39,55 +43,23 @@
         setContentView(R.layout.activity_task_parent);
         initializeClassVariables();
         getExtrasFromIntent();
-        getAllUnassignedTasksFromDB();
-        showlistUnassignedTasks();
+        createListOfTask();
+        crateClickEvent();
+        updateListFromDB();
 
-        addTaskButton = (Button)findViewById(R.id.addTaskButton);
-        addTaskButton.setOnClickListener(new View.OnClickListener() {
-            @Override
-            public void onClick(View v) {
-                Intent i = new Intent(v.getContext(),NewTask.class);
-                startActivity(i);
-            }
-        });
-    }
+        addButtonFunc();
 
-    private void showlistUnassignedTasks() {
-        ArrayAdapter adapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, ListUnassignedTasks);
-        UnassignedTasks =(ListView) findViewById(R.id.ListUnassignedTasks);
-        UnassignedTasks.setAdapter(adapter);
+
     }
 
     private void initializeClassVariables() {
+        UnassignedTasks = (ListView) findViewById(R.id.ListUnassignedTasks);
 
-    }
+        mAuth = FirebaseAuth.getInstance();
+        root = FirebaseDatabase.getInstance();
+        reference = root.getReference();
+        uid = mAuth.getCurrentUser().getUid();
 
-    private void getAllUnassignedTasksFromDB() {
-        ListUnassignedTasks = new ArrayList<>();
-        ListKeysUnassignedTasks = new ArrayList<>();
-        databaseReference = FirebaseDatabase.getInstance().getReference();
-
-        //Updating the spinner
-//        databaseReference.child("Tasks").child(currFamilyid).addValueEventListener(new ValueEventListener() {
-//            @Override
-//            public void onDataChange(@NonNull DataSnapshot snapshot) {
-//
-//                for (DataSnapshot ds : snapshot.getChildren() )
-//                {
-//                    if(ds.child("status").toString().equals("NotAssociated"))
-//                    {
-//                        ListUnassignedTasks.add(ds.child("nameTask").toString());
-//                        ListKeysUnassignedTasks.add(ds.getKey());
-//                    }
-//
-//                }
-//            }
-//
-//            @Override
-//            public void onCancelled(@NonNull DatabaseError error) {
-//
-//            }
-//        });
 
     }
 
@@ -107,5 +79,51 @@
         }
     }
 
+    private void createListOfTask() {
+        ListUnassignedTasks = new ArrayList<>();
+        adapter = new TaskAdapter(getApplicationContext(),R.layout.row_task,ListUnassignedTasks);
+        UnassignedTasks.setAdapter(adapter);
+    }
+
+    private void crateClickEvent() {
+        UnassignedTasks.setOnItemClickListener((adapterView,view,i,l) -> {
+            Intent intent =new Intent(view.getContext(), TaskInfoActivity.class);
+            ////Chang destination!!
+            intent.putExtra("task",ListUnassignedTasks.get(i));
+            startActivity(intent);
+        });
+    }
 
+    private void updateListFromDB() {
+        reference.child("Tasks").child(currFamilyid).addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                ListUnassignedTasks.clear();
+                for (DataSnapshot Snapshot : snapshot.getChildren()){
+                    if (Snapshot.child("status").getValue().equals("NotAssociated")){
+                        Task toAdd = Snapshot.getValue(Task.class);
+                        ListUnassignedTasks.add(toAdd);
+                        Log.v("Add to list",toAdd.getNameTask());
+                    }
+                }
+                Log.v("Data changed","www");
+                adapter.notifyDataSetChanged();
+            }
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+    }
+
+    private void addButtonFunc() {
+        addTaskButton = (Button)findViewById(R.id.addTaskButton);
+        addTaskButton.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                Intent i = new Intent(v.getContext(),NewTask.class);
+                startActivity(i);
+            }
+        });
+    }
 }
Index: app/src/main/java/com/example/tiptop/HomeActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.tiptop;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\nimport android.widget.Spinner;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeActivity extends AppCompatActivity  {\r\n\r\n    //Variables that will contain all the buttons\r\n    private Button setting;\r\n    private Button profile;\r\n    private ImageButton  imageButton;\r\n    private Button followUp;\r\n    private Button Statistics;\r\n    private Button chat ;\r\n    private Button Tasks;\r\n    private Button history;\r\n    private Button points;\r\n    private Spinner SpinnerFamily;\r\n\r\n    private DatabaseReference databaseReference;\r\n    private FirebaseAuth mAuth;\r\n    private String uid;\r\n    private String permission;\r\n    private String currFamilyId;\r\n    private List <String> allKeys;\r\n    private ArrayList <String> allFamilies;\r\n    private ArrayAdapter adapter;\r\n    public String spinnerTitle;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n        initializationFromXML();\r\n        initializationCurrFamilyId();\r\n        spinerActive();\r\n        ActivateAllButtons();\r\n    }\r\n\r\n    private void initializationCurrFamilyId() {\r\n        databaseReference = FirebaseDatabase.getInstance().getReference();\r\n        mAuth = FirebaseAuth.getInstance();\r\n        uid = mAuth.getCurrentUser().getUid();\r\n        databaseReference.child(\"Users\").child(uid).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot ds : snapshot.getChildren() )\r\n                {\r\n                    if(ds.getKey().equals(\"currFamilyId\")){\r\n                        currFamilyId = (String) ds.getValue();\r\n                        spinnerTitle =  (String) ds.getValue();\r\n                    }\r\n                    if (ds.getKey().equals(\"type\")){\r\n                        permission = (String) ds.getValue();\r\n                    }\r\n                }\r\n                Log.v(\"permissionnnnnn!!!!!!!\", permission);\r\n                Log.v(\"currFamilyId!!!!!!!\", currFamilyId);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void spinerActive() {\r\n        //Set the SpinnerFamily Spinner\r\n        SpinnerFamily = (Spinner)findViewById(R.id.SpinnerFamily);\r\n        allKeys = new ArrayList<>();\r\n        allFamilies = new ArrayList<>();\r\n        getInfoFromDB();\r\n        adapter = new ArrayAdapter<String>(this, android.R.layout.simple_spinner_dropdown_item, allFamilies);\r\n        SpinnerFamily.setAdapter(adapter);\r\n        SpinnerFamily.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n                currFamilyId = allKeys.get(position);\r\n                spinnerTitle = allFamilies.get(position);\r\n                Log.v(\"currFamilyId666666\", currFamilyId);\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView<?> parent) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void getInfoFromDB() {\r\n        //Updating the spinner\r\n        databaseReference.child(\"UserFamilies\").child(uid).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                allFamilies.clear();\r\n                allKeys.clear();\r\n                for (DataSnapshot ds : snapshot.getChildren() )\r\n                {\r\n                    String toAddFamiliy =(String) ds.getValue();\r\n                    String toAddKey =(String) ds.getKey();\r\n                    allFamilies.add(toAddFamiliy);\r\n                    allKeys.add(toAddKey);\r\n                }\r\n\r\n                System.out.println(allFamilies);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void initializationFromXML() {\r\n        //Set the settings button\r\n        setting = (Button)findViewById(R.id.setting);\r\n        //Set the profile button\r\n        profile = (Button)findViewById(R.id.profile);\r\n        //Set the followUp button\r\n        followUp = (Button)findViewById(R.id.followUp);\r\n        //Set the Statistics button\r\n        Statistics = (Button)findViewById(R.id.statistics);\r\n        //Set the chat button\r\n        chat = (Button)findViewById(R.id.chat);\r\n        //Set the Tasks button\r\n        Tasks = (Button)findViewById(R.id.tasks);\r\n        //Set the history button\r\n        history = (Button)findViewById(R.id.history);\r\n        //Set the points button\r\n        points = (Button)findViewById(R.id.points);\r\n        //Set the ImageButton button\r\n        imageButton = (ImageButton)findViewById(R.id.imageButton);\r\n      \r\n    }\r\n\r\n    private void ActivateAllButtons() {\r\n        //Moves to the settings activity\r\n        setting.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent(v.getContext(),SettingActivity.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        //Moves to the profile activity\r\n        profile.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent(v.getContext(),ProfileActivity.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        //Moves to the followUp activity\r\n        followUp.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent(v.getContext(),FollowUpActivity.class);\r\n                i.putExtra(\"currFamilyId\", currFamilyId);\r\n                i.putExtra(\"permission\",permission);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        //Moves to the Statistics activity\r\n        Statistics.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent(v.getContext(),StatisticsActivity.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        //Moves to the chat activity\r\n        chat.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent(v.getContext(),ChatActivity.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        //Moves to the Tasks activity\r\n        Tasks.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent(v.getContext(), PoolTasksParentActivity.class);\r\n                i.putExtra(\"currFamilyId\", currFamilyId);\r\n                i.putExtra(\"permission\",permission);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        //Moves to the history activity\r\n        history.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent(v.getContext(),HistoryActivity.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        //Moves to the points activity\r\n        points.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent(v.getContext(),PointsActivity.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n        //Moves to the ImageButton activity\r\n        imageButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent(v.getContext(), ImageActivity.class);\r\n                startActivity(i);\r\n            }\r\n        });\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/tiptop/HomeActivity.java	(revision 4adf77c21ab8ce8ca6466d5bb0ca0ca8bdc1c378)
+++ app/src/main/java/com/example/tiptop/HomeActivity.java	(date 1607629957775)
@@ -209,9 +209,16 @@
         Tasks.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
-                Intent i = new Intent(v.getContext(), PoolTasksParentActivity.class);
+                Intent i;
+                if (permission.equals("Parent")){
+                    i = new Intent(v.getContext(), PoolTasksParentActivity.class);
+                }
+
+                else if (permission.equals("Child")){
+                    i = new Intent(v.getContext(), PoolTaskChildActivity.class);
+                }
+                else return;
                 i.putExtra("currFamilyId", currFamilyId);
-                i.putExtra("permission",permission);
                 startActivity(i);
             }
         });
Index: app/src/main/java/com/example/tiptop/NewTask.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.tiptop;\r\n\r\nimport android.app.DatePickerDialog;\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.DatePicker;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.util.Calendar;\r\n\r\npublic class NewTask extends AppCompatActivity {\r\n\r\n    private Task toAddTask = new Task();\r\n    private com.google.android.material.textfield.TextInputLayout NameOfTask;\r\n    private com.google.android.material.textfield.TextInputLayout BonusPoint;\r\n    private Button StartDateButton;\r\n    private Button EndDateButton;\r\n    private TextView StartDateTV;\r\n    private TextView EndDateTV;\r\n    private Button SubmitButton;\r\n    private String StartDate;\r\n    private String EndDate;\r\n    private static final String TAG = \"NewActivity\";\r\n    private DatePickerDialog.OnDateSetListener mDateSetListener2;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_task);\r\n        initializationFromXML();\r\n        setSelectDateButton(StartDateButton, StartDateTV);\r\n        setSelectDateButton(EndDateButton, EndDateTV);\r\n        setFinishButton();\r\n\r\n    }\r\n\r\n    private void initializationTask() {\r\n        toAddTask.setNameTask(NameOfTask.getEditText().getText().toString());\r\n        long bp = Integer.parseInt(BonusPoint.getEditText().getText().toString());\r\n        toAddTask.setBonusScore(bp);\r\n    }\r\n\r\n    private void setFinishButton() {\r\n        SubmitButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                initializationTask();\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private Void setSelectDateButton(Button button, TextView tv) {\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                final Calendar c = Calendar.getInstance();\r\n                int year = c.get(Calendar.YEAR);\r\n                int month = c.get(Calendar.MONTH);\r\n                int day = c.get(Calendar.DAY_OF_MONTH);\r\n\r\n\r\n                DatePickerDialog datePickerDialog = new DatePickerDialog(NewTask.this,\r\n                        new DatePickerDialog.OnDateSetListener() {\r\n\r\n                            @Override\r\n                            public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\r\n                                tv.setText(dayOfMonth + \"-\" + (monthOfYear + 1) + \"-\" + year);\r\n                            }\r\n                        }, year, month, day);\r\n                datePickerDialog.show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n    private void initializationFromXML() {\r\n        NameOfTask = findViewById(R.id.NameOfTask);\r\n        BonusPoint = findViewById(R.id.BonusPoint);\r\n        StartDateButton = (Button) findViewById(R.id.StartDateButton);\r\n        EndDateButton = (Button)findViewById(R.id.EndDateButton);\r\n        StartDateTV = (TextView) findViewById(R.id.StartDateTV);\r\n        EndDateTV = (TextView)findViewById(R.id.EndDateTV);\r\n        SubmitButton = (Button)findViewById(R.id.SubmitButton);\r\n    }\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/tiptop/NewTask.java	(revision 4adf77c21ab8ce8ca6466d5bb0ca0ca8bdc1c378)
+++ app/src/main/java/com/example/tiptop/NewTask.java	(date 1607631845471)
@@ -58,7 +58,7 @@
         });
     }
 
-    private Void setSelectDateButton(Button button, TextView tv) {
+    private void setSelectDateButton(Button button, TextView tv) {
 
         button.setOnClickListener(new View.OnClickListener() {
             @Override
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.tiptop\">\r\n\r\n    <application\r\n\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.TipTop\">\r\n\r\n        <activity android:name=\".LogoActivity\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity android:name=\".NewTask\"/>\r\n        <activity android:name=\".LoginActivity\"/>\r\n        <activity android:name=\".NewClientActivity\"/>\r\n        <activity android:name=\".NewFamilyIDActivity\"/>\r\n        <activity android:name=\".HomeActivity\"/>\r\n        <activity android:name=\".ChatActivity\"/>\r\n        <activity android:name=\".FollowUpActivity\"/>\r\n        <activity android:name=\".HistoryActivity\"/>\r\n        <activity android:name=\".ImageActivity\"/>\r\n        <activity android:name=\".PointsActivity\"/>\r\n        <activity android:name=\".ProfileActivity\"/>\r\n        <activity android:name=\".SettingActivity\"/>\r\n        <activity android:name=\".StatisticsActivity\"/>\r\n        <activity android:name=\".PoolTasksParentActivity\"/>\r\n        <activity android:name=\".TaskInfoActivity\"/>\r\n        <activity android:name=\".ManageCirclesActivity\"/>\r\n        <activity android:name=\".InviteMemberActivity\"/>\r\n        <activity android:name=\".CurrentCircleActivity\"/>\r\n        <activity android:name=\".MembersActivity\"/>\r\n        <activity android:name=\".ApproveActivity\"/>\r\n\r\n\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 4adf77c21ab8ce8ca6466d5bb0ca0ca8bdc1c378)
+++ app/src/main/AndroidManifest.xml	(date 1607629957781)
@@ -31,6 +31,7 @@
         <activity android:name=".SettingActivity"/>
         <activity android:name=".StatisticsActivity"/>
         <activity android:name=".PoolTasksParentActivity"/>
+        <activity android:name=".PoolTaskChildActivity"/>
         <activity android:name=".TaskInfoActivity"/>
         <activity android:name=".ManageCirclesActivity"/>
         <activity android:name=".InviteMemberActivity"/>
